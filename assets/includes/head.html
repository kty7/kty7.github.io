<!-- assets/includes/head.html -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- BOOTSTRAP & STYLES -->
<link 
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
  rel="stylesheet"
/>
<!-- Google Fonts : Inter & Merriweather -->
<link 
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Merriweather:wght@400;700&display=swap" 
  rel="stylesheet"
/>

<link rel="stylesheet" href="/assets/css/main.css">

<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/favicons/site.webmanifest">
<link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#50382c">
<link rel="shortcut icon" href="/assets/favicons/favicon.ico">
<meta name="msapplication-TileColor" content="#50382c">
<meta name="msapplication-config" content="/assets/favicons/browserconfig.xml">
<meta name="theme-color" content="#50382c">

<!-- HIDE/SHOW LANGUES IMMÉDIATEMENT -->
<style>
  .lang-fr .fr, .lang-en .en { display: block; }
  .lang-fr .en, .lang-en .fr { display: none; }
</style>

<!-- Loader CSS -->
<style>
#loader {
  position: fixed;
  inset: 0;
  background: transparent;
  z-index: 9999;
  overflow: hidden;
  transition: opacity 0.3s ease;
}

#loader.fade-out {
  opacity: 0;
}

#loader .panels {
  position: absolute;
  inset: 0;
  display: flex;
}
#loader .panel {
  flex: 1;
  position: relative;
  background: #50382c;
  overflow: visible;
}
#loader .panel-left {
  z-index: 2;
}

#loader .panel-right {
  z-index: 1;
}

#loader .panel-left .logo {
  position: absolute;
  width: 150px;
  height: 150px;
  background: url("/assets/img/logo.png") no-repeat center/contain;
  border-radius: 50%;
  top: 50%;
  right: 0;
  transform: translate(50%, -50%);
  z-index: 3;
}

@keyframes loader-slide-left  { to { transform: translateX(-100%); } }
@keyframes loader-slide-right { to { transform: translateX(100%); } }
@keyframes loader-rotate360 {
  /* 0% : taille normale, pas de rotation */
  0% {
    transform: translate(50%, -50%) scale(1) rotate(0deg);
  }
  /* 10% : scale down (effet “pression”) */
  10% {
    transform: translate(50%, -50%) scale(0.8) rotate(0deg);
  }
  /* 20% : retour à l’échelle normale */
  20% {
    transform: translate(50%, -50%) scale(1) rotate(0deg);
  }
  /* 100% : rotation complète à échelle normale */
  100% {
    transform: translate(50%, -50%) scale(1) rotate(360deg);
  }
}

#loader .panel-left.slide {
  animation: loader-slide-left  1s ease-in-out forwards;
}
#loader .panel-right.slide {
  animation: loader-slide-right 1s ease-in-out forwards;
}

#loader .logo.rotate360 {
  animation: loader-rotate360 0.8s ease-in-out forwards;
}

@media (max-width: 768px) {
  @keyframes loader-slide-left  { to { transform: translateY(-100%); } }
  @keyframes loader-slide-right { to { transform: translateY(100%); } }
}
</style>

<!-- INIT LANG SYNCHRONE avant tout rendu -->
<script>
  (function(){
    const key = 'preferredLang';
    let lang = localStorage.getItem(key)
      || (navigator.language.startsWith('en') ? 'en' : 'fr');
    document.documentElement.className = 'lang-' + lang;
    document.documentElement.setAttribute('lang', lang);
  })();
</script>
